# Монитор доменов — уведомления (Email + Telegram)

В этой версии добавлены уведомления о скором окончании доменов.

## Как работает уведомление

После нажатия **«Проверить домены (WHOIS)»** приложение:
1) обновляет дату окончания и `days_left`;
2) если найден домен(ы) у которых `days_left` меньше/равно порога (по умолчанию 30 дней) — отправляет уведомления:
   - на Email (SMTP), если включено;
   - в Telegram, если включено.

Чтобы не спамить, по каждому домену уведомление отправляется **не чаще 1 раза в день**
(поле `last_notified` в `domains.json`).

## Настройка

В приложении нажмите кнопку **«Настройки уведомлений»** и заполните поля.

Настройки сохраняются в файл `settings.json` рядом со скриптом/EXE.

Также есть пример: `settings.example.json`.

### Telegram

1) Создайте бота через `@BotFather` и получите `bot_token`.
2) Напишите вашему боту любое сообщение (или добавьте бота в нужный чат).
3) Получите `chat_id` (пример через API):

```text
https://api.telegram.org/bot<ВАШ_TOKEN>/getUpdates
```

После этого в ответе будет `chat.id`.

### Email (SMTP)

Укажите SMTP сервер/порт, логин/пароль и получателей.
Для Gmail/Яндекс/и т.п. часто нужен **пароль приложения** (App Password), а не обычный пароль.

## Примечание про файлы

- `domains.json` — список доменов.
- `settings.json` — настройки уведомлений.
Оба файла сохраняются рядом с `domain_monitor.py` (или рядом с EXE, если собран PyInstaller).
